(this["webpackJsonpreact-quiz"]=this["webpackJsonpreact-quiz"]||[]).push([[0],{44:function(e,t){e.exports={APP_MODE:{MENU:0,QUIZ:1}}},64:function(e,t,n){},65:function(e,t,n){var s=n(66).create({baseURL:"",headers:{"Content-Type":"application/json"},responseType:"json"});t.getCategoryList=function(){return new Promise((function(e){s.get("/Menu/Categories").then((function(t){e(t.data)})).catch((function(e){console.error("REST ERROR from /Menu/Categories")}))}))},t.getRatingList=function(){return new Promise((function(e){s.get("/Menu/Ratings").then((function(t){e(t.data)})).catch((function(e){console.error("REST ERROR from /Menu/Ratings")}))}))},t.getQuizCount=function(e,t){return new Promise((function(n){s.post("/Menu/QuizCount",{categoryList:e,ratingList:t}).then((function(e){n(e.data)})).catch((function(e){console.error("REST ERROR from /Menu/QuizCount\n"+e)}))}))}},91:function(e,t,n){},92:function(e){e.exports=JSON.parse('{"section":"exsample","questions":[{"sentence":"1 + 1 = ?","type":"radio","choices":["1","2","3"],"answer":1,"comment":"1+1=2\u2026\u5e38\u8b58\u3084\u304b\u3089\u2026\uff08\u7b11\uff09"},{"sentence":"\u6b21\u306e\u5185\u3001\u30af\u30bd\u306a\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\u306f\u3069\u308c\uff1f","type":"checkbox","choices":["C++","Java","C#","VB","JavaScript"],"answer":[1,3],"comment":"JavaScript\u306f\u30af\u30bd\u3067\u306f\u306a\u304f\u300c\u30e4\u30d0\u3044\u300d"},{"sentence":"\u7cbe\u795e\u304c\u3064\u3089\u304f\u306a\u3063\u3061\u3083\u3063\u305f\u4ef6\uff08\u7b11\uff09","type":"text","answer":"\u308f\u3089","comment":"\u3082\u3046\u5acc\u306a\u4ef6\uff08\u7b11\uff09"}]}')},94:function(e,t,n){"use strict";n.r(t);var s=n(2),i=n(0),a=n.n(i),c=n(16),r=n.n(c),o=(n(64),n(42)),u=n(17),l=n(18),h=n(23),j=n(22),d=n(97),g=n(41),b=n(103),O=n(104),m=n(96),f=n(55),x=n(56),p=n(98),v=n(44),C=n(65);function y(e){var t=Object(i.useState)(""),n=Object(g.a)(t,2),a=n[0],c=n[1],r=Object(i.useState)(""),o=Object(g.a)(r,2),u=o[0],l=o[1],h=e.triedLogin&&!e.isLogin;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(b.a,{show:!e.isLogin,onHide:function(){},backdrop:"static",keyboard:!1,children:[Object(s.jsx)(b.a.Header,{children:Object(s.jsx)(b.a.Title,{children:"Login"})}),Object(s.jsx)(b.a.Body,{children:Object(s.jsxs)(O.a,{children:[Object(s.jsx)(m.a,{className:"ml-2 mb-3",children:"\u30ed\u30b0\u30a4\u30f3\u3057\u308d\u3088\uff08\u7b11\uff09"}),Object(s.jsxs)(O.a.Group,{as:m.a,controlId:"formPlaintextUserId",children:[Object(s.jsx)(O.a.Label,{column:!0,sm:"2",children:"User ID"}),Object(s.jsx)(f.a,{sm:"10",children:Object(s.jsx)(O.a.Control,{type:"text",placeholder:"Password",onChange:function(e){l(e.target.value)}})})]}),Object(s.jsxs)(O.a.Group,{as:m.a,controlId:"formPlaintextPassword",children:[Object(s.jsx)(O.a.Label,{column:!0,sm:"2",children:"Password"}),Object(s.jsxs)(f.a,{sm:"10",children:[Object(s.jsx)(O.a.Control,{type:"password",placeholder:"Password",onChange:function(e){c(e.target.value)},isInvalid:h}),h&&Object(s.jsx)(O.a.Control.Feedback,{type:"invalid",children:"\u9593\u9055\u3063\u3068\u308b\u3088\uff08\u7b11\uff09"})]})]})]})}),Object(s.jsx)(b.a.Footer,{children:Object(s.jsx)(x.a,{variant:"primary",onClick:function(t){return e.checkLogin(a,u)},children:"OK"})})]})})}var k=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var s;Object(u.a)(this,n),s=t.call(this,e);var i=e.cookies;return s.state={isLogin:i.get("isLogin")||!1,triedLogin:!1,categories:[],selectCategories:[],ratings:[],selectRatings:[],count:0},s}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;C.getCategoryList().then((function(t){e.setState({categories:t,selectCategories:t})})),C.getRatingList().then((function(t){e.setState({ratings:t,selectRatings:t})}))}},{key:"componentDidUpdate",value:function(e,t,n){var s=this;console.log(JSON.stringify(this.state.selectCategories)+" "+JSON.stringify(t.selectCategories)),JSON.stringify(this.state.selectCategories)===JSON.stringify(t.selectCategories)&&JSON.stringify(this.state.selectRatings)===JSON.stringify(t.selectRatings)||C.getQuizCount(this.state.selectCategories,this.state.selectRatings).then((function(e){s.setState({count:e})}))}},{key:"checkLogin",value:function(e,t){var n=this.props.cookies,s="wara"===e;this.setState({isLogin:s,triedLogin:!0}),n.set("isLogin",s),s&&n.set("userId",t)}},{key:"categoryChange",value:function(e){var t=this.state.selectCategories;t.includes(e)?t=t.filter((function(t){return t!==e})).sort():(t=t.concat()).push(e),this.setState({selectCategories:t})}},{key:"categoryChangeAll",value:function(){var e=this.state.selectCategories;e=e.length===this.state.categories.length?[]:this.state.categories.concat(),this.setState({selectCategories:e})}},{key:"ratingChange",value:function(e){var t=this.state.selectRatings;t.includes(Number(e))?t=t.filter((function(t){return t!==Number(e)})).sort():(t=t.concat()).push(Number(e)),this.setState({selectRatings:t})}},{key:"ratingChangeAll",value:function(){var e=this.state.selectRatings;e=e.length===this.state.ratings.length?[]:this.state.ratings.concat(),this.setState({selectRatings:e})}},{key:"render",value:function(){var e=this;return Object(s.jsxs)(d.a,{children:[Object(s.jsx)("h1",{children:"\u30e1\u30cb\u30e5\u30fc"}),Object(s.jsx)(y,{isLogin:this.state.isLogin,triedLogin:this.state.triedLogin,checkLogin:function(t,n){return e.checkLogin(t,n)}}),Object(s.jsxs)(O.a,{className:"border border-dark rounded",children:[Object(s.jsxs)(O.a.Group,{as:m.a,controlId:"category",mb:3,className:"mt-3 mx-3",children:[Object(s.jsx)(O.a.Label,{column:!0,sm:3,children:"\u30ab\u30c6\u30b4\u30ea"}),Object(s.jsx)(f.a,{children:Object(s.jsx)(x.a,{variant:"outline-primary",size:"sm",onClick:function(t){return e.categoryChangeAll()},children:"\u3059\u3079\u3066\u5207\u308a\u66ff\u3048"})}),Object(s.jsx)(f.a,{sm:"10",children:Object(s.jsx)(m.a,{children:this.state.categories.map((function(t){return Object(s.jsx)(O.a.Check,{inline:!0,label:t,type:"checkbox",id:t,onChange:function(t){return e.categoryChange(t.target.id)},checked:e.state.selectCategories.includes(t)})}))})})]}),Object(s.jsxs)(O.a.Group,{as:m.a,controlId:"rating",mb:3,className:"mt-3 mx-3",children:[Object(s.jsx)(O.a.Label,{column:!0,sm:3,children:"\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0"}),Object(s.jsx)(f.a,{children:Object(s.jsx)(x.a,{variant:"outline-primary",size:"sm",onClick:function(t){return e.ratingChangeAll()},children:"\u3059\u3079\u3066\u5207\u308a\u66ff\u3048"})}),Object(s.jsx)(f.a,{sm:"10",children:Object(s.jsx)(m.a,{children:this.state.ratings.map((function(t){return Object(s.jsx)(O.a.Check,{inline:!0,label:"\u2606".repeat(t),type:"checkbox",id:t,onChange:function(t){return e.ratingChange(t.target.id)},checked:e.state.selectRatings.includes(t)})}))})})]}),Object(s.jsxs)(O.a.Group,{as:m.a,controlId:"NumberOfQuestions",mb:3,className:"mt-3 mx-3",children:[Object(s.jsxs)(O.a.Label,{column:!0,sm:"2",children:["\u51fa\u984c\u6570 ",Object(s.jsx)("br",{}),"(\u5bfe\u8c61\u554f\u984c\u6570: ",this.state.count,")"]}),Object(s.jsx)(f.a,{sm:"5",children:Object(s.jsx)(O.a.Control,{type:"number"})})]})]}),Object(s.jsx)(m.a,{className:"d-grid gap-2 col-6 mx-auto mt-3",mb:3,children:Object(s.jsx)(x.a,{variant:"primary",size:"lg",block:!0,onClick:function(t){return e.props.changeMode(v.APP_MODE.QUIZ)},children:"\u958b\u59cb"})})]})}}]),n}(a.a.Component),w=Object(p.a)(k),N=(n(91),n(105)),L=n(57),S=n(99),E=n(54),M=n(100),R=n(101);function A(e){return Object(s.jsx)("div",{className:"question",children:e.value})}function P(e){var t=e.choices;return Object(s.jsx)(N.a,{type:e.type,name:"options",vertical:!0,className:"choices",value:e.input,onChange:e.onChange,children:t.map((function(t,n){var i="outline-dark";if(e.isAnswered){var a=!1,c=!1;"radio"===e.type?(a=n===e.answer,c=n===e.input,a&&c?i="success":a?i="warning":c&&(i="danger")):"checkbox"===e.type&&(a=e.answer.includes(n),c=e.input.includes(n),a&&c?i="success":a?i="warning":c&&(i="danger"))}return Object(s.jsx)(L.a,{variant:i,className:"choice mt-2",name:"radio",value:n,disabled:e.isAnswered,children:t},n)}))})}function q(e){var t=e.isAnswered&&e.input!==e.answer;return Object(s.jsxs)(S.a,{className:"mb-3",children:[Object(s.jsx)(S.a.Prepend,{children:Object(s.jsx)(S.a.Text,{id:"inputGroup-sizing-default",children:"\u56de\u7b54"})}),Object(s.jsx)(E.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default",onChange:function(t){return e.onChange(t.target.value)},readOnly:e.isAnswered,isInvalid:t,isValid:e.isAnswered&&!t}),t&&Object(s.jsx)(E.a.Feedback,{type:"invalid",children:"\u7b54\u3048: "+e.answer})]})}function I(e){var t,n=e.question.choices,i=e.onChange,a=e.state.isAnswered,c=e.state.input,r=e.question.answer,o=e.question.type;return"radio"===o||"checkbox"===o?t=Object(s.jsx)(P,{choices:n,onChange:i,isAnswered:a,input:c,answer:r,type:o}):"text"===o&&(t=Object(s.jsx)(q,{onChange:i,isAnswered:a,input:c,answer:r,type:o})),t}function D(e){var t=e.isCorrect?"success":"danger",n=e.isCorrect?"\u6b63\u89e3\uff01":"\u4e0d\u6b63\u89e3\uff01\uff57";return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(M.a,{variant:t,show:e.show,transition:R.a,children:[Object(s.jsx)(M.a.Heading,{children:n}),Object(s.jsx)("hr",{}),Object(s.jsx)("p",{className:"mb-0",children:e.comment})]})})}var J=function(e){Object(h.a)(i,e);var t=Object(j.a)(i);function i(e){var s;return Object(u.a)(this,i),(s=t.call(this,e)).state={input:null,isAnswered:!1,isCorrect:!1,questionNum:0},s.file_json=n(92),s.question=s.file_json.questions[s.state.questionNum],s}return Object(l.a)(i,[{key:"changeInput",value:function(e){var t=e;Array.isArray(t)&&t.sort(),this.setState({input:t})}},{key:"clickOK",value:function(e){if(this.state.isAnswered){var t=this.state.questionNum+1;t>=this.file_json.questions.length&&(t=0),this.setState({input:null,isAnswered:!1,questionNum:t}),this.question=this.file_json.questions[t]}else this.setState({isAnswered:!0,isCorrect:JSON.stringify(this.state.input)===JSON.stringify(this.question.answer)})}},{key:"render",value:function(){var e=this;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{className:"header",children:this.file_json.section}),Object(s.jsx)(A,{value:this.question.sentence}),Object(s.jsx)(I,{onChange:function(t){return e.changeInput(t)},state:this.state,question:this.question}),Object(s.jsx)(D,{isCorrect:this.state.isCorrect,comment:this.question.comment,show:this.state.isAnswered}),Object(s.jsx)(x.a,{variant:"primary",size:"lg",block:!0,className:"mt-4",onClick:function(t){return e.clickOK(t)},disabled:null==this.state.input,children:this.state.isAnswered?"\u6b21\u3078":"\u6c7a\u5b9a"})]})}}]),i}(a.a.Component);var _=function(){return Object(s.jsx)(d.a,{children:Object(s.jsx)(J,{})})},T=n(44),z=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var i;Object(u.a)(this,n);var a={changeMode:function(e){return i.setState({mode:e})}};return(i=t.call(this,e)).MODE_ELEMENTS=new Map,i.MODE_ELEMENTS.set(T.APP_MODE.MENU,Object(s.jsx)(w,Object(o.a)({},a))),i.MODE_ELEMENTS.set(T.APP_MODE.QUIZ,Object(s.jsx)(_,Object(o.a)({},a))),i.state={mode:T.APP_MODE.MENU},i}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsx)(d.a,{children:this.MODE_ELEMENTS.get(this.state.mode)})}}]),n}(a.a.Component),F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,106)).then((function(t){var n=t.getCLS,s=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),s(e),i(e),a(e),c(e)}))},U=n(102);n(93);r.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(U.a,{children:Object(s.jsx)(z,{})})}),document.getElementById("root")),F()}},[[94,1,2]]]);
//# sourceMappingURL=main.0398da87.chunk.js.map